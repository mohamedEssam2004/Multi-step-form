<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <title>Frontend Mentor | Multi-step form</title>
  <link rel="stylesheet" href="./index.css">
  <script src="index.js" defer></script>
</head>
<body>


  <main>


    <div class="navigation">
      <div class="choise">
        <a href="" class="active">1</a>
        <div class="info">
          <p>Step 1</p>
          <h4>Your info</h4>
        </div>
      </div>

      <div class="choise">
        <a href="">2</a>
        <div class="info">
          <p>Step 2</p>
          <h4>Select plan</h4>
        </div>
      </div>
      
      <div class="choise">
        <a href="">3</a>
        <div class="info">
          <p>Step 3</p>
          <h4>Add-ons</h4>
        </div>
      </div>

      <div class="choise">
        <a href="">4</a>
        <div class="info">
          <p>Step 4</p>
          <h4>Summary</h4>
        </div>
      </div>
    </div>



    <section class="content">
      <div class="header">
        <h1>Personal info</h1>
        <p>Please provide your name, email address, and phone number.</p>
      </div>

      <form>

        <div class="above">
          <label for="name">Name</label>
          <p></p>
        </div>
        <input id="name" type="text" placeholder="e.g. Stephen King">

        <div class="above">
          <label for="name">Email Address</label>
          <p></p>
        </div>
        <input id="email" type="text" placeholder="e.g. stephenking@lorem.com">

        <div class="above">
          <label for="name">Phone Number</label>
          <p></p>
        </div>
        <input id="number" type="text" placeholder="e.g. +1 234 567 890">

      </form>

      <div class="convey">
        <a href=""></a>
        <a class="button" href="stem_two.html"><button id="btn1">Next Step</button></a>
      </div>
    </section>



  </main>


  <script>

    const inputName = document.getElementById("name");
    const inputEmail = document.getElementById("email");
    const inputNumber = document.getElementById("number");

    let inputArray = Array.from(document.querySelectorAll(".content form input"));
    let pArray = Array.from(document.querySelectorAll(".content form .above p"));

    const btn1 = document.getElementById("btn1");


    inputName.oninput = function() {
      inputName.value = inputName.value.slice(0, 30);
    }
    inputNumber.oninput = function() {
      inputNumber.value = inputNumber.value.replace(/\D/g, "").slice(0, 20);
    }

    btn1.onclick = function() {

      for(let i = 0; i < inputArray.length; i++) {
        if(inputArray[i].value.length == 0) {
          pArray[i].innerHTML = "This field is required";
        } else {
          pArray[i].innerHTML = "";
        }
      }

      if(/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/g.test(inputEmail.value)) {
        pArray[1].innerHTML = "";
      } else {
        pArray[1].innerHTML = "Email value is invalid";
      }


      for(let i = 0; i < inputArray.length; i++) {
      if(inputArray[0].value != 0, inputArray[1].value != 0, inputArray[2].value != 0) {
        window.sessionStorage.setItem(`input${i}`, inputArray[i].value);
        inputArray[i].value = window.sessionStorage.getItem(`input${i}`);
      }
    }

    document.querySelector("#btn1 a").onclick = function(e) {
      if(inputArray[0].value.length != 0 && pArray[0].innerHTML == "" && pArray[1].innerHTML == "" && pArray[2].innerHTML == "") {
        return true;
      } else {
        return false;
        
      }
    }

  }

  document.querySelector(".convey .button").onclick = function() {
    if(pArray[0].innerHTML == "" && pArray[1].innerHTML == "" && pArray[2].innerHTML == "") {
      return true;
    }
    return false;
  }

  </script>

</body>
</html>














